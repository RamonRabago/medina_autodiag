---
description: Probar cambios y no romper funcionalidad existente
alwaysApply: true
---

# Calidad de cambios - Medina Autodiag

Cuando implementes o modifiques código en este proyecto:

1. **Ejecutar pruebas siempre**: Después de CADA cambio relevante, ejecutar pruebas para validar (scripts en scripts/, verificación de import/startup, o API). No dar por terminado sin haberlas corrido y confirmado que pasan.

2. **No romper lo existente**: Revisa el impacto de tus cambios en flujos ya implementados y probados. Evita:
   - Cambiar firmas de funciones/APIs usadas por el frontend u otros módulos sin actualizar los consumidores.
   - Eliminar o renombrar campos de modelos/schemas que ya se usan.
   - Introducir errores de sintaxis o imports rotos.

3. **Validación mínima**: Antes de dar por terminado un cambio:
   - Ejecutar `python -c "from app.main import app; print('OK')"` para verificar que el backend arranca.
   - Ejecutar `python scripts/ejecutar_todas_pruebas.py` para verificar módulos (sugerencia-compra, auditoría, cuentas por pagar, utilidad, etc.).
   - Ejecutar `cd frontend && npm run build` para verificar que el frontend compila.
   - Revisar linter si es relevante.

4. **Auditoría de dependencias** (con regularidad, no en cada commit):
   - `python scripts/auditar_dependencias.py` — ejecuta pip-audit y npm audit.
   - Ver docs/SEGURIDAD_DEPENDENCIAS.md.
