# ====================================
# CONFIGURACIÓN DE BASE DE DATOS
# ====================================
DB_USER=root
DB_PASSWORD=autodiag
DB_HOST=localhost
DB_PORT=3306
DB_NAME=medina_autodiag

# ====================================
# CONFIGURACIÓN DE SEGURIDAD JWT
# ====================================
# CRÍTICO PRODUCCIÓN: Con DEBUG_MODE=False, SECRET_KEY debe configurarse
# explícitamente (mín. 32 caracteres). La app no arrancará con el valor por defecto.
# Generar clave segura: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CAMBIA_ESTA_LLAVE_POR_UNA_GENERADA_CON_SECRETS_TOKEN_HEX_32_CARACTERES
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=480

# ====================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ====================================
APP_NAME=MEDINAAUTODIAG API
APP_VERSION=1.0.0
DEBUG_MODE=True

# IVA aplicado cuando requiere_factura (8 o 16 según régimen fiscal en México)
IVA_PORCENTAJE=8

# ====================================
# CONFIGURACIÓN DE CORS
# ====================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:8000

# ====================================
# CONFIGURACIÓN DE RATE LIMITING (SlowAPI)
# ====================================
# Limite de peticiones por IP. 100 req en 60 seg = 100/minuto
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ====================================
# MICROSOFT GRAPH API - Envío de correos (OAuth2, evita bloqueos SMTP)
# ====================================
# Si configuras Azure, se usará Graph en lugar de SMTP. Ver GUIA_GRAPH_API_EMAIL.md
# AZURE_TENANT_ID=
# AZURE_CLIENT_ID=
# AZURE_CLIENT_SECRET=
# AZURE_SEND_AS_EMAIL=rrabago@medinaautodiag.com

# ====================================
# SMTP - Envío de órdenes de compra a proveedores (fallback si Graph no está)
# ====================================
# Si SMTP_HOST no está configurado, al hacer "Enviar orden" solo se cambia el estado (no se envía email)
#
# ---- OUTLOOK / MICROSOFT 365 ----
# SMTP_HOST=smtp.office365.com
# SMTP_PORT=587
# SMTP_USER=tu-email@tudominio.com
# SMTP_PASSWORD=tu-contraseña-o-contraseña-de-app
# SMTP_FROM_EMAIL=tu-email@tudominio.com
# SMTP_USE_TLS=true
#
# Nota Outlook: Si tienes 2FA, usa una "Contraseña de aplicación" desde
# https://account.microsoft.com/security → Seguridad avanzada → Contraseñas de aplicación
#
# ---- GMAIL ----
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=tu-email@gmail.com
# SMTP_PASSWORD=contraseña-de-aplicacion-16-digitos
# SMTP_FROM_EMAIL=tu-email@gmail.com
# SMTP_USE_TLS=true
#
SMTP_HOST=smtp.office365.com
SMTP_PORT=587
SMTP_USER=tu-email@tudominio.com
SMTP_PASSWORD=tu-contraseña
SMTP_FROM_EMAIL=tu-email@tudominio.com
SMTP_USE_TLS=true

# ====================================
# DOCUMENTACIÓN OPENAPI (/docs, /redoc)
# ====================================
# DOCS_ENABLED: exponer /docs, /redoc y /openapi.json (default True en prod)
# DOCS_REQUIRE_AUTH: proteger con HTTP Basic Auth (recomendado en producción)
# Exportar schema estático: make openapi  o  python scripts/export_openapi.py
DOCS_ENABLED=True
DOCS_REQUIRE_AUTH=True
DOCS_USER=admin
DOCS_PASSWORD=cambiar_en_produccion
